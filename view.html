<html>

<head>
    <meta charset="UTF-8">
    <title>Restaurant Express</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <div class=" container jumbotron d-flex flex-column align-items-center justify-content-center">
        <h1 class="display-4"><span><img src=""></span>Hot Restaurant</h1>
        <p class="lead">Book Your Seat Before They're All Gone!</p>
        <hr class="my-4">
        <div class="d-flex">
            <a class="btn btn-primary btn-lg" href="/make" role="button">Make A Reservation</a>
            <a class="btn btn-primary btn-lg" href="/" role="button">Home</a>
        </div>
    </div>
    <div class="container mb-2">
        <div class="card">
            <div class="card-header">
                Current Reservations
            </div>
            <div class="card-body" id="reservation-table">
                <ul id="res-list" class="list-group">

                </ul>
            </div>
        </div>
    </div>
    <div class="container mb-2">
        <div class="card">
            <div class="card-header">
                Wait List
            </div>
            <div class="card-body" id="waitlist-table">
                <ul id="wait-list" class="list-group">

                </ul>
            </div>
        </div>
    </div>


    <script>
        // reservation building function
        function buildRessie() {
            // make the table elements
            var ul = $("#res-list");
            $.get("/reservations", function (data) {
                let list = data.reservations;
                list.forEach(element => {
                    var li = $("<li class='list-group mt-4'>");
                    var tableH2 = $("<h2>");
                    tableH2.text(`Table`);
                    var split = $("<hr>");
                    var name = $("<h2>");
                    var num = $("<h2>");
                    var email = $("<h2>");
                    var id = $("<h2>");
                    li.append([tableH2, split, name, num, email, id]);
                    name.text(element.name);
                    num.text(element.number);
                    email.text(element.email);
                    id.text(element.id);
                    ul.append(li);
                });

            });
        }

        function buildWaitList() {
            // make the table elements
            var ul = $("#wait-list");
            $.get("/reservations", function (data) {
                let list = data.waitlist;
                list.forEach(element => {
                    var li = $("<li class='list-group mt-4'>");
                    var tableH2 = $("<h2>");
                    tableH2.text(`Table`);
                    var split = $("<hr>");
                    var name = $("<h2>");
                    var num = $("<h2>");
                    var email = $("<h2>");
                    var id = $("<h2>");
                    li.append([tableH2, split, name, num, email, id]);
                    name.text(element.name);
                    num.text(element.number);
                    email.text(element.email);
                    id.text(element.id);
                    ul.append(li);
                });

            });
        }

        // call both
        buildRessie();
        buildWaitList();




    </script>
</body>

</html>